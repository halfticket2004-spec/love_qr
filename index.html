<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For My Love â¤ï¸</title>

<style>
body{
  margin:0;
  overflow:hidden;
  background:linear-gradient(135deg,#fbd3e9,#bb377d);
  font-family:Georgia,serif;
  color:white;
  text-align:center;
}
.container{padding:15px}
input{
  width:80%;padding:14px;font-size:20px;
  border:none;border-radius:12px;text-align:center
}
button{
  padding:14px 30px;font-size:18px;
  border:none;border-radius:25px;
  background:white;color:#bb377d;
  margin-top:15px
}
canvas{touch-action:none}
.flower{
  position:absolute;top:-40px;
  animation:fall linear infinite
}
@keyframes fall{
  to{transform:translateY(110vh) rotate(360deg)}
}
.gifts{
  display:flex;justify-content:center;
  gap:20px;margin-top:25px
}
.gift{
  width:80px;height:80px;
  background:#ff4f81;
  border-radius:15px;
  font-size:40px;
  display:flex;align-items:center;justify-content:center;
  animation:bounce 1s infinite alternate
}
@keyframes bounce{
  from{transform:translateY(0)}
  to{transform:translateY(-20px)}
}
.controls{
  display:flex;justify-content:center;
  gap:40px;margin-top:10px
}
.letter{
  background:white;color:#bb377d;
  padding:25px;border-radius:20px;
  margin:20px;font-size:20px
}
</style>
</head>

<body>

<audio autoplay loop>
<source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_4b6b6f87f1.mp3">
</audio>

<div class="container" id="app">
<h1>yevaru ra nuvvu ğŸ‘€</h1><br>
<input id="answer" placeholder="Type here">
<br>
<button onclick="check()">Submit</button>
</div>

<script>
// flowers
for(let i=0;i<25;i++){
 let f=document.createElement("div");
 f.className="flower"; f.innerHTML="ğŸŒ¸";
 f.style.left=Math.random()*100+"vw";
 f.style.animationDuration=5+Math.random()*6+"s";
 document.body.appendChild(f);
}

// entry
function check(){
 let v=document.getElementById("answer").value.trim().toLowerCase();
 if(v==="its me") mazeGame();
 else document.getElementById("app").innerHTML=
 "<h2>yevaru nanna rey nuvvu..</h2><h2>vellipora nanna ğŸ˜¤</h2>";
}

// GAME 1 â€“ MAZE
function mazeGame(){
 document.getElementById("app").innerHTML=
 `<h2>Find him â¤ï¸</h2>
 <p>Every path inside failsâ€¦ love finds a way around</p>
 <canvas id="maze" width="360" height="360"></canvas>`;

 const c=document.getElementById("maze");
 const x=c.getContext("2d");
 const cx=180,cy=180,r=160;
 const girl={x:cx,y:cy-r+18};
 const boy={x:cx+r-18,y:cy};
 let drawing=false,escaped=false;

 function drawMaze(){
  x.clearRect(0,0,360,360);
  x.strokeStyle="black";x.lineWidth=4;
  x.beginPath();x.arc(cx,cy,r,0,Math.PI*2);x.stroke();
  x.lineWidth=2;
  for(let a=0;a<360;a+=15){
    x.beginPath();
    x.arc(cx,cy,r-30,a*Math.PI/180,(a+10)*Math.PI/180);
    x.stroke();
  }
  x.font="26px serif";
  x.fillText("ğŸ‘©",girl.x-10,girl.y+10);
  x.fillText("ğŸ‘¦",boy.x-10,boy.y+10);
 }
 drawMaze();

 c.addEventListener("pointerdown",e=>{
  drawing=true;
  x.beginPath();
  x.moveTo(e.offsetX,e.offsetY);
 });
 c.addEventListener("pointerup",()=>drawing=false);
 c.addEventListener("pointermove",e=>{
  if(!drawing) return;
  let dx=e.offsetX, dy=e.offsetY;
  x.strokeStyle="#ff69b4";x.lineWidth=3;
  x.lineTo(dx,dy);x.stroke();
  if(Math.hypot(dx-cx,dy-cy)>r+5) escaped=true;
  if(escaped && Math.hypot(dx-boy.x,dy-boy.y)<20){
    setTimeout(mazeGifts,500);
  }
 });
}

// After maze gifts
function mazeGifts(){
 document.getElementById("app").innerHTML=
 `<h2>You found a way ğŸ’–</h2>
 <div class="gifts">
  <div class="gift" onclick="mazeLetter()">ğŸ</div>
  <div class="gift" onclick="mazeLetter()">ğŸ</div>
  <div class="gift" onclick="mazeLetter()">ğŸ</div>
  <div class="gift" onclick="mazeLetter()">ğŸ</div>
 </div>`;
}

function mazeLetter(){
 document.getElementById("app").innerHTML=
 `<div class="letter">
 i promise you ğŸ’Œ<br><br>
 Even on the most chaotic and ordinary days,<br>
 Iâ€™ll find a way to make you smile ğŸ˜<br><br>
 Just the way you found your way in the game ğŸ’–
 <br><br>
 <button onclick="carGame()">Start next game ğŸš—</button>
 </div>`;
}

// GAME 2 â€“ CAR
function carGame(){
 document.getElementById("app").innerHTML=
 `<h2>Survive 1 minute ğŸš—</h2>
 <canvas id="road" width="300" height="420"></canvas>
 <div class="controls">
  <button onclick="moveL()">â¬…ï¸</button>
  <button onclick="moveR()">â¡ï¸</button>
 </div>
 <p id="timer">Time: 60</p>`;

 const c=document.getElementById("road");
 const x=c.getContext("2d");
 let car={x:130,y:350};
 let obs=[];
 let start=Date.now();

 window.moveL=()=>{if(car.x>90) car.x-=30}
 window.moveR=()=>{if(car.x<200) car.x+=30}

 function loop(){
  x.clearRect(0,0,300,420);
  x.fillStyle="#444";x.fillRect(80,0,140,420);
  x.font="28px serif";
  x.fillText("ğŸš—",car.x,car.y);

  if(Math.random()<0.04)
    obs.push({x:90+Math.random()*120,y:-20});

  for(let o of obs){
    o.y+=4;
    x.fillText("ğŸš™",o.x,o.y);
    if(Math.abs(o.x-car.x)<25 && Math.abs(o.y-car.y)<25){
      carGame(); return;
    }
  }
  obs=obs.filter(o=>o.y<450);

  let t=60-Math.floor((Date.now()-start)/1000);
  document.getElementById("timer").innerText="Time: "+t;
  if(t<=0){ carGifts(); return; }

  requestAnimationFrame(loop);
 }
 loop();
}

// After car gifts
function carGifts(){
 document.getElementById("app").innerHTML=
 `<h2>You made it ğŸ’–</h2>
 <div class="gifts">
  <div class="gift" onclick="carLetter()">ğŸ</div>
  <div class="gift" onclick="carLetter()">ğŸ</div>
  <div class="gift" onclick="carLetter()">ğŸ</div>
  <div class="gift" onclick="carLetter()">ğŸ</div>
 </div>`;
}

function carLetter(){
 document.getElementById("app").innerHTML=
 `<div class="letter">
 i promise you ğŸ’Œ<br><br>
 On gloomy and bad days,<br>
 I will reach you through all the hurdles<br>
 as fast as I can ğŸ«¶<br><br>
 just the way you did in the game ğŸ’–
 </div>`;
}
</script>

</body>
</html>
